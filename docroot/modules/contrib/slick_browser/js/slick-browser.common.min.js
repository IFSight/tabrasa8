!function(a,s){"use strict";var e;s.slickBrowser=s.slickBrowser||{sb:function(s,i){var n=a(i),t=a(".slick__slider",i),o=parseInt(n.data("sbCardinality"));a(".slick__arrow button",i).addClass("button"),a(".slick__arrow",i).addClass("button-group button-group--icon"),n.on("click",".button--wrap__mask",function(){return a(this).parent().addClass("is-open"),!1}),a(".button--remove",i).on("click mousedown",function(){a(this).closest(".grid, .slide, .item-container").addClass("is-deleted")}),n.on("click",function(){window.clearTimeout(e),e=window.setTimeout(function(){a(".is-open",i).removeClass("is-open")},1e3)});var r=function(){if(n.hasClass("sb--launcher")){var a=n.find("input[data-entity-id]").length;n.attr("data-sb-count",a),o>0&&o<=a&&n.addClass("is-sb-ajax")}};r(),a(".button--wrap__confirm",i).on("click",function(){var s=a(this),e=s.next("input").data("entityId"),i=s.closest(".sb--wrapper");if(e&&i.length&&!n.hasClass("is-sb-ajax")){var o=i.find("> .details-wrapper > input:first");if(o.length){var d=o.val();if(d=d.replace(e,"").trim(),o.val(d),t.length){var l=s.closest(".slide").data("slickIndex");t.slick("slickRemove",l),i.find('.sb__sortitem[data-row-id="'+l+'"]').remove()}s.closest(".grid, .slide").remove()}}r()})},sbDetails:function(s,e){var i=a(e);i.hasClass("sb--safe")||(a(".sb__display",e).length&&i.find(".details-wrapper").addClass("visually-hidden"),a("summary",e).on("click",function(){if(i.attr("open"))return i.find(".details-wrapper").removeClass("visually-hidden"),i.addClass("sb--safe"),!1}))},sbMediaRendered:function(s,e){var i=a(e);i.data("thumb")&&!i.hasClass("b-bg")&&i.css("backgroundImage","url("+i.data("thumb")+")")},itemContainer:function(s,e){a(".button",e).on("mousedown.sbAction",function(){a(this).closest(".item-container").addClass("media--loading")})},jump:function(a){},loading:function(s){a(s.currentTarget).hasClass("is-active")||a(s.currentTarget).closest(".js-form-managed-file, .form--sb").addClass("media--loading")},loaded:function(s){a(".js-form-managed-file").removeClass("media--loading"),s&&a(".media--loading").removeClass("media--loading")}},s.behaviors.slickBrowser={attach:function(e){var i=s.slickBrowser;a(".sb",e).once("sb").each(i.sb),a(".sb .item-container",e).once("sbItem").each(i.itemContainer),a(".sb--wrapper-hidden",e).once("sbDetails").each(i.sbDetails),a(".media--rendered",e).once("sbMediaRendered").each(i.sbMediaRendered)},detach:function(s,e,i){"unload"===i&&a(".sb .item-container",s).find(".button").off(".sbAction")}}}(jQuery,Drupal);
