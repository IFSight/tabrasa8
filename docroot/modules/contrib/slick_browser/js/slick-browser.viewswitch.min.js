!function(e,i){"use strict";function t(t,s){function a(t){t.preventDefault();var s=e(t.currentTarget),a=s.data("target"),l=e(".view--sb");s.closest(".button-group").find(".button").removeClass("is-sb-active"),s.addClass("is-sb-active"),a&&l.length&&(e(".is-info-active").removeClass("is-info-active"),"help"===a?(r.removeClass("is-sb-collapsed"),r.toggleClass("view--sb-help"),s.text(r.hasClass("view--sb-help")?"x":"?")):(e(".button--help",r).text("?"),r.removeClass("view--sb-help"),l.removeClass("view--sb-grid view--sb-list view--sb-help"),l.find(".sb__grid").attr("class","list"===a?"sb__grid":n.data("classes")),l.addClass("view--sb-"+a),i.blazy&&null!==i.blazy.init&&i.blazy.init.revalidate(!0)))}var n=e(s),l=n.closest(".form--sb"),r=l.length?l:n.closest(".view"),c=e(".sb__header"),o=r.find(".sb__grid:first"),d=o.attr("class");n.data("classes",d),function(){var i=e(".view-content",r);if(r.find(".grid").length&&!e(".view-list--header",r).length){var t=o.find(".grid:first .grid__content"),s=t.clone();s.detach().insertBefore(i),s.wrapAll('<div class="view-list view-list--header grid" />').once(),s.find(".views-field").each(function(){var i=e(this),t=i.find(".views-label").text();i.empty().text(t)}),s.find(".grid__info, .button-group").remove()}}(),c.length&&(c.find(".sb__viewswitch").remove(),n.addClass("sb__viewswitch--header").appendTo(c)),e(".button",s).on("click.sbSwitch",a),e("#sb-viewswitch",r).find(".button--view.is-sb-active").click(),function(i){e(".slick__arrow",i).addClass("button-group button-group--icon"),e(".slick__slider",i).on("beforeChange",function(t,s,a){var n=s.$slides.length,l=a+1,r=e('.pager__items a[rel="next"]',i),c=e('.pager__items a[rel="prev"]',i),o=e(".pager__items .pager__item--next a",i),d=e(".pager__items .pager__item--previous a",i);l===n&&(r.length?r.click():c.length&&c.click(),o.length?o.click():d.length&&d.click())})}(r)}i.behaviors.slickBrowserViewSwitch={attach:function(i){e(i).find(".sb__viewswitch").once("sbViewSwitch").each(t)},detach:function(i,t,s){"unload"===s&&e(i).find(".sb__viewswitch").removeOnce("sbViewSwitch")}}}(jQuery,Drupal);
